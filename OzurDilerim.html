<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <title>Özür Mesajı</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      background: black;
      font-family: 'Segoe UI', sans-serif;
    }

    #container {
      width: 100vw;
      height: 100vh;
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
    }

    #basButton {
      padding: 15px 30px;
      font-size: 20px;
      background-color: #444;
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      z-index: 10;
    }

    #messageBox {
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: rgba(0, 0, 0, 0.8);
      border: 2px solid white;
      padding: 30px;
      border-radius: 20px;
      color: white;
      font-size: 20px;
      max-width: 600px;
      text-align: center;
      z-index: 10;
    }

    #rainCanvas {
      position: absolute;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      z-index: 1;
    }

    .btns {
      margin-top: 20px;
    }

    .btns button {
      margin: 0 10px;
      padding: 10px 20px;
      font-size: 18px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
    }

    .btns .yes { background-color: #28a745; color: white; }
    .btns .no { background-color: #dc3545; color: white; }

    #result {
      color: white;
      margin-top: 30px;
      font-size: 22px;
      z-index: 10;
    }
  </style>
</head>
<body>

<div id="container">
  <button id="basButton">Bana Bas</button>

  <canvas id="rainCanvas"></canvas>

  <div id="messageBox">
    <p>Her ne yaptığımı bilemesem de<br>Senden özür dilerim birtanem...</p>
    <div class="btns">
      <button class="yes">Evet</button>
      <button class="no">Hayır</button>
    </div>
  </div>

  <div id="result"></div>
</div>

<audio id="music" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_f780b5ae2c.mp3?filename=rain-piano-ambient-110253.mp3" loop></audio>

<script>
  const basButton = document.getElementById('basButton');
  const messageBox = document.getElementById('messageBox');
  const result = document.getElementById('result');
  const music = document.getElementById('music');

  basButton.onclick = () => {
    music.play();
    basButton.style.display = "none";
    messageBox.style.display = "flex";
    initRain();
  };

  document.querySelector(".yes").onclick = () => {
    result.textContent = "Teşekkür ederim... Bana DM'den yazmayı unutma ❤️";
  };

  document.querySelector(".no").onclick = () => {
    result.textContent = "Üzgünüm... Yine de seni hep seveceğim.";
  };

  // Rain effect
  const canvas = document.getElementById('rainCanvas');
  const ctx = canvas.getContext('2d');
  let W = window.innerWidth;
  let H = window.innerHeight;
  canvas.width = W;
  canvas.height = H;

  let drops = [];
  for (let i = 0; i < 500; i++) {
    drops.push({
      x: Math.random() * W,
      y: Math.random() * H,
      l: Math.random() * 1,
      xs: -4 + Math.random() * 4 + 2,
      ys: Math.random() * 10 + 10
    });
  }

  function drawRain() {
    ctx.clearRect(0, 0, W, H);
    ctx.strokeStyle = "rgba(174,194,224,0.5)";
    ctx.lineWidth = 1;
    ctx.lineCap = "round";
    for (let i = 0; i < drops.length; i++) {
      let d = drops[i];
      ctx.beginPath();
      ctx.moveTo(d.x, d.y);
      ctx.lineTo(d.x + d.l * d.xs, d.y + d.l * d.ys);
      ctx.stroke();
    }
    moveRain();
  }

  function moveRain() {
    for (let i = 0; i < drops.length; i++) {
      let d = drops[i];
      d.x += d.xs;
      d.y += d.ys;
      if (d.x > W || d.y > H) {
        d.x = Math.random() * W;
        d.y = -20;
      }
    }
  }

  function initRain() {
    setInterval(drawRain, 30);
  }
</script>

</body>
</html>
